{"remainingRequest":"/Users/yutah/vue-tr/vue-register/node_modules/babel-loader/lib/index.js!/Users/yutah/vue-tr/vue-register/node_modules/eslint-loader/index.js??ref--13-0!/Users/yutah/vue-tr/vue-register/src/router/index.js","dependencies":[{"path":"/Users/yutah/vue-tr/vue-register/src/router/index.js","mtime":1591436999911},{"path":"/Users/yutah/vue-tr/vue-register/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yutah/vue-tr/vue-register/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yutah/vue-tr/vue-register/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQnOwppbXBvcnQgU2lnbnVwIGZyb20gJ0AvY29tcG9uZW50cy9TaWdudXAnOwppbXBvcnQgU2lnbmluIGZyb20gJ0AvY29tcG9uZW50cy9TaWduaW4nOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnKicsCiAgICByZWRpcmVjdDogJ3NpZ25pbicKICB9LCAvLyB7CiAgLy8gICBwYXRoOiAnLycsCiAgLy8gICBuYW1lOiAnSG9tZScsCiAgLy8gICBjb21wb25lbnQ6IEhvbWUKICAvLyB9LAogIC8vIHsKICAvLyAgIHBhdGg6ICcvYWJvdXQnLAogIC8vICAgbmFtZTogJ0Fib3V0JywKICAvLyAgIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgLy8gICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIC8vICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLyAnLi4vdmlld3MvQWJvdXQudnVlJykKICAvLyB9LAogIHsKICAgIHBhdGg6ICcvJywKICAgIG5hbWU6ICdIZWxsb1dvcmxkJywKICAgIGNvbXBvbmVudDogSGVsbG9Xb3JsZCwKICAgIG1ldGE6IHsKICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogJy9zaWdudXAnLAogICAgbmFtZTogJ1NpZ251cCcsCiAgICBjb21wb25lbnQ6IFNpZ251cAogIH0sIHsKICAgIHBhdGg6ICcvc2lnbmluJywKICAgIG5hbWU6ICdTaWduaW4nLAogICAgY29tcG9uZW50OiBTaWduaW4KICB9XQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHJlcXVpcmVzQXV0aCA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoOwogIH0pOwogIHZhciBjdXJyZW50VXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKCiAgaWYgKHJlcXVpcmVzQXV0aCkgewogICAgaWYgKCFjdXJyZW50VXNlcikgewogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnL3NpZ2huaW4nLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/Users/yutah/vue-tr/vue-register/src/router/index.js"],"names":["Vue","VueRouter","HelloWorld","Signup","Signin","firebase","use","router","routes","path","redirect","name","component","meta","requiresAuth","beforeEach","to","from","next","matched","some","record","currentUser","auth","query","fullPath"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAIM,MAAM,GAAG,IAAIN,SAAJ,CAAc;AACzBO,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GADM,EAKN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACED,IAAAA,IAAI,EAAE,GADR;AAEEE,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAEV,UAHb;AAIEW,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAlBM,EAyBN;AACEL,IAAAA,IAAI,EAAE,SADR;AAEEE,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAET;AAHb,GAzBM,EA8BN;AACEM,IAAAA,IAAI,EAAE,SADR;AAEEE,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAER;AAHb,GA9BM;AADiB,CAAd,CAAb;AAuCAG,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIJ,YAAY,GAAGE,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACR,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAAnB;AACA,MAAIQ,WAAW,GAAGjB,QAAQ,CAACkB,IAAT,GAAgBD,WAAlC;;AACA,MAAGR,YAAH,EAAgB;AACd,QAAG,CAACQ,WAAJ,EAAiB;AACfJ,MAAAA,IAAI,CAAC;AACHT,QAAAA,IAAI,EAAE,UADH;AAEHe,QAAAA,KAAK,EAAE;AAAEd,UAAAA,QAAQ,EAAEM,EAAE,CAACS;AAAf;AAFJ,OAAD,CAAJ;AAID,KALD,MAKK;AACHP,MAAAA,IAAI;AACL;AACF,GATD,MASM;AACJA,IAAAA,IAAI;AACL;AACF,CAfD;AAmBA,eAAeX,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\nimport Signup from '@/components/Signup'\nimport Signin from '@/components/Signin'\nimport firebase from 'firebase'\n\nVue.use(VueRouter)\n\nlet router = new VueRouter({\n  routes: [\n    {\n      path: '*',\n      redirect: 'signin'\n    },\n    // {\n    //   path: '/',\n    //   name: 'Home',\n    //   component: Home\n    // },\n    // {\n    //   path: '/about',\n    //   name: 'About',\n    //   // route level code-splitting\n    //   // this generates a separate chunk (about.[hash].js) for this route\n    //   // which is lazy-loaded when the route is visited.\n    //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n    // },\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld,\n      meta: { requiresAuth: true }\n  \n    },\n    {\n      path: '/signup',\n      name: 'Signup',\n      component: Signup\n    },\n    {\n      path: '/signin',\n      name: 'Signin',\n      component: Signin\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  let requiresAuth = to.matched.some(record => record.meta.requiresAuth)\n  let currentUser = firebase.auth().currentUser\n  if(requiresAuth){\n    if(!currentUser) {\n      next({\n        path: '/sighnin',\n        query: { redirect: to.fullPath }\n      })\n    }else{\n      next()\n    }\n  }else {\n    next()\n  }\n})\n\n\n\nexport default router\n"]}]}